<div class="right-6 bottom-6 z-50 fixed speed-dial">
  <div
    id="speed-dial-menu"
    class="right-0 bottom-16 absolute flex flex-col gap-3 opacity-0 transition-opacity duration-300 pointer-events-none speed-dial-actions"
    role="menu"
    aria-label="Redes sociales"
  >
  </div>

  <button
    class="flex justify-center items-center bg-gradient-to-br from-purple-500 to-indigo-600 shadow-lg hover:shadow-xl rounded-full w-14 h-14 text-white text-2xl transition-transform duration-300 speed-dial-button"
    aria-haspopup="menu"
    aria-expanded="false"
    aria-controls="speed-dial-menu"
    aria-label="Abrir redes sociales"
    data-open="false"
  >
    <span class="block leading-none icon" aria-hidden="true"></span>
  </button>
</div>

<style>
  :root {
    --sd-ease: cubic-bezier(0.2, 0.8, 0.2, 1);
  }

  .sd-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.65rem 0.9rem;
    background: white;
    border-radius: 9999px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
    transform: translateY(6px) scale(0.96);
    opacity: 0;
    transition:
      transform 0.24s var(--sd-ease),
      opacity 0.24s var(--sd-ease);
    text-decoration: none;
  }
  .sd-item:hover {
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.16);
    transform: translateX(-3px) scale(1);
  }
  .sd-item:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 3px rgba(99, 102, 241, 0.35),
      0 8px 20px rgba(0, 0, 0, 0.12);
    transform: translateX(-2px) scale(1);
  }
  .sd-icon {
    width: 2rem;
    height: 2rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    background: linear-gradient(135deg, #8b5cf6, #4f46e5);
    color: white;
    flex: 0 0 auto;
  }
  .sd-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: #374151;
    white-space: nowrap;
  }
  .speed-dial-actions[data-open="true"] {
    opacity: 1;
    pointer-events: auto;
  }
  .speed-dial-actions[data-open="true"] .sd-item {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  @media (prefers-color-scheme: dark) {
    .sd-item {
      background: #111827;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
    }
    .sd-label {
      color: #e5e7eb;
    }
  }
</style>

<script>
  const dial = document.querySelector(".speed-dial");
  const btn = dial.querySelector(".speed-dial-button");
  const menu = dial.querySelector(".speed-dial-actions");
  const iconWrap = btn.querySelector(".icon");

  const LINKS = [
    {
      label: "Instagram",
      url: "https://instagram.com/tucuenta",
      iconSVG: `<svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18 6.25a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 18 6.25z"/></svg>`,
    },
    {
      label: "Facebook",
      url: "https://facebook.com/tucuenta",
      iconSVG: `<svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M13 22v-8h3l1-4h-4V7.5A1.5 1.5 0 0 1 14.5 6H17V2h-2.5A5.5 5.5 0 0 0 9 7.5V10H6v4h3v8h4z"/></svg>`,
    },
    {
      label: "TikTok",
      url: "https://tiktok.com/@tucuenta",
      iconSVG: `<svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M21 8.5a7.5 7.5 0 0 1-5-1.8V15a5 5 0 1 1-5-5 5.5 5.5 0 0 0 0 11A5 5 0 0 0 16 16V3h3a5.5 5.5 0 0 0 2 4.3z"/></svg>`,
    },
    {
      label: "WhatsApp",
      url: "https://wa.me/5492644822296",
      iconSVG: `<svg viewBox="0 0 32 32" width="26" height="26" fill="currentColor"><path d="M19.1 17.6c-.3-.1-1-.4-1.1-.5s-.3-.1-.4.1-.5.5-.6.6-.2.2-.4.1a6.6 6.6 0 0 1-3-2.6c-.2-.3 0-.3.1-.4l.3-.4c.1-.1.1-.2.2-.3s0-.2 0-.3 0-.3 0-.5-.1-.4-.2-.4h-.5c-.2 0-.4 0-.5.2a2 2 0 0 0-.6 1.4 2.8 2.8 0 0 0 .6 1.5 9.7 9.7 0 0 0 3.7 3.5 4.2 4.2 0 0 0 1.5.5 2.2 2.2 0 0 0 1.5-.5 1.8 1.8 0 0 0 .5-1.2c0-.3 0-.5 0-.5s-.1-.1-.4-.2z"/><path d="M26.1 5.9A13 13 0 0 0 3.5 22.7L2 30l7.5-1.9A13 13 0 0 0 29 16a13 13 0 0 0-2.9-10.1zm-10 21.7a10.7 10.7 0 0 1-5.5-1.6l-.4-.2-4.5 1.1 1.2-4.4-.3-.5A10.9 10.9 0 1 1 16.1 27.6z"/></svg>`,
    },
  ];

  // Render men칰
  const frag = document.createDocumentFragment();
  LINKS.forEach(({ label, url, iconSVG }, idx) => {
    const a = document.createElement("a");
    a.className = "sd-item";
    a.href = url;
    a.target = "_blank";
    a.rel = "noopener noreferrer";
    a.role = "menuitem";
    a.setAttribute("aria-label", label);

    const i = document.createElement("span");
    i.className = "sd-icon";
    i.innerHTML = iconSVG;

    const l = document.createElement("span");
    l.className = "sd-label";
    l.textContent = label;

    a.style.transitionDelay = `${(idx + 1) * 40}ms`;
    a.append(i, l);
    frag.append(a);
  });
  menu.append(frag);

  const items = Array.from(dial.querySelectorAll(".sd-item"));

  const openMenu = () => {
    btn.dataset.open = "true";
    btn.setAttribute("aria-expanded", "true");
    menu.dataset.open = "true";
    items[0]?.focus({ preventScroll: true });
  };
  const closeMenu = () => {
    btn.dataset.open = "false";
    btn.setAttribute("aria-expanded", "false");
    delete menu.dataset.open;
    btn.focus({ preventScroll: true });
  };

  btn.addEventListener("click", (e) => {
    const isOpen = btn.dataset.open === "true";
    isOpen ? closeMenu() : openMenu();
    e.stopPropagation();
  });
  document.addEventListener("click", (e) => {
    if (!dial.contains(e.target)) closeMenu();
  });

  // 游대 Rotaci칩n autom치tica sin girar el bot칩n
  let idx = 0;
  const setIcon = (i) => {
    iconWrap.innerHTML = LINKS[i].iconSVG;
    btn.setAttribute("aria-label", `Abrir ${LINKS[i].label}`);
  };
  setIcon(idx);

  setInterval(() => {
    idx = (idx + 1) % LINKS.length;
    setIcon(idx);
  }, 5000);
</script>
