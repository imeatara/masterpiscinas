---
import Layout from "../../layouts/Layout.astro";
import { Image } from "astro:assets";
import asset from "@/assets/asset.png";
import mantenimientoAntes from "@/assets/mantenimientoAntes.webp";
import mantenimientoDespues from "@/assets/mantenimientoDespues.webp";
import {
  MoveLeft,
  ShieldCheck,
  Sparkles,
  Wrench,
  CircleCheckIcon,
} from "@lucide/astro";
import CarouselGallery from "@/components/CarouselGallery";
import ServiceCTA from "@/components/ServiceCTA.astro";

const service = {
  title: "Mantenimiento",
  desc: "Servicio integral: limpieza, revisión de equipos, balance químico y optimización del sistema de filtrado.",
  src: asset,
  alt: "Mantenimiento de piscina",
  slug: "mantenimiento",
};

const WSP = "5492644822296";
const wspHref = `https://wa.me/${WSP}?text=${encodeURIComponent(
  `Hola! Quiero solicitar el servicio de ${service.title}`
)}`;

const slides = [
  { src: mantenimientoAntes, alt: "Reparaciones" },
  { src: mantenimientoDespues, alt: "Reparaciones" },
];
---

<Layout title={service.title} description={service.desc} image={service.src}>
  <article class="space-y-10 mx-auto px-6 py-12 container">
    <!-- Top bar -->
    <nav class="flex justify-start items-center mb-6">
      <a
        href="/"
        aria-label="Volver al inicio"
        class="inline-flex items-center gap-2 bg-neutral-100 hover:bg-neutral-200 px-4 py-2 rounded-full font-medium text-neutral-800 transition-colors"
      >
        <MoveLeft class="w-5 h-5" />
        <span>Inicio</span>
      </a>
    </nav>

    <!-- Header -->
    <header class="space-y-4">
      <h1
        class="font-bold text-neutral-900 text-3xl md:text-4xl tracking-tight"
      >
        {service.title}
      </h1>
      <p class="text-neutral-700 text-lg">{service.desc}</p>
    </header>

    <!-- Cover -->
    <section class="relative">
      <CarouselGallery slides={slides} client:load />
    </section>

    <!-- BLOQUE 1: Mantenimiento general -->
    <section class="gap-6 grid grid-cols-1 md:grid-cols-3">
      <div class="bg-white shadow-sm p-6 border border-neutral-200 rounded-2xl">
        <div class="inline-flex items-center gap-2 mb-3">
          <CircleCheckIcon class="w-5 h-5 text-emerald-600" />
          <h2 class="font-semibold text-neutral-900 text-xl">¿Qué incluye?</h2>
        </div>
        <ul
          class="space-y-2 mt-4 pl-6 text-neutral-700 marker:text-neutral-400 list-disc"
        >
          <li>Limpieza de canasto, prefiltro y skimmers.</li>
          <li>Aspirado de fondo y cepillado de paredes/línea de agua.</li>
          <li>Backwash y enjuague del filtro.</li>
          <li>Test y corrección de pH, alcalinidad y cloro.</li>
          <li>Revisión de bomba, cañerías y retornos.</li>
        </ul>
      </div>

      <div class="bg-white shadow-sm p-6 border border-neutral-200 rounded-2xl">
        <div class="inline-flex items-center gap-2 mb-3">
          <Sparkles class="w-5 h-5 text-indigo-600" />
          <h2 class="font-semibold text-neutral-900 text-xl">Beneficios</h2>
        </div>
        <p class="text-neutral-700">
          Agua cristalina, equipos duraderos y menos consumo de químicos gracias
          al mantenimiento constante.
        </p>
      </div>

      <div class="bg-white shadow-sm p-6 border border-neutral-200 rounded-2xl">
        <div class="inline-flex items-center gap-2 mb-3">
          <ShieldCheck class="w-5 h-5 text-sky-600" />
          <h2 class="font-semibold text-neutral-900 text-xl">
            Recomendaciones
          </h2>
        </div>
        <p class="text-neutral-700">
          Mantenimiento semanal en temporada y quincenal fuera de temporada.
          Mantener el nivel de agua correcto y revisar periódicamente el estado
          del filtro.
        </p>
      </div>
    </section>

    <!-- ADICIONALES -->
    <section aria-labelledby="adicionales-h2" class="space-y-4">
      <header class="flex items-center gap-3">
        <h2 id="adicionales-h2" class="font-semibold text-neutral-900 text-2xl">
          Servicios adicionales
        </h2>
        <span
          class="inline-flex items-center bg-amber-100 px-3 py-1 rounded-full font-medium text-amber-800 text-xs"
          >Opcionales</span
        >
      </header>

      <div class="gap-6 grid grid-cols-1">
        <!-- Adicional: Cambio de piedras / Multiválvula / Retrolavado -->
        <article
          class="bg-white shadow-sm p-6 border border-neutral-200 rounded-2xl"
        >
          <div class="flex justify-between items-center gap-3 mb-2">
            <div class="inline-flex items-center gap-2">
              <Wrench class="w-5 h-5 text-amber-600" />
              <h3 class="font-semibold text-neutral-900 text-xl">
                Cambio de piedras / Multiválvula / Retrolavado
              </h3>
            </div>
            <span
              class="bg-neutral-100 px-2 py-0.5 rounded-full text-neutral-700 text-xs"
              >Adicional</span
            >
          </div>

          <div class="gap-6 grid grid-cols-1 sm:grid-cols-3 mt-4">
            <div>
              <h4 class="font-medium text-neutral-900">¿Qué incluye?</h4>
              <ul
                class="space-y-2 mt-3 pl-6 text-neutral-700 marker:text-neutral-400 list-disc"
              >
                <li>Cambio de medio filtrante: arena, zeolita o vidrio.</li>
                <li>Limpieza del filtro y revisión de crepinas.</li>
                <li>Service de multiválvula: juntas, fugas y selector.</li>
                <li>Chequeo y retrolavado completo del sistema.</li>
              </ul>
            </div>
            <div>
              <h4 class="font-medium text-neutral-900">Beneficios</h4>
              <ul
                class="space-y-2 mt-3 pl-6 text-neutral-700 marker:text-neutral-400 list-disc"
              >
                <li>Filtrado más eficiente y agua más clara.</li>
                <li>Mayor vida útil del sistema de filtrado.</li>
                <li>Optimización del flujo y menor consumo energético.</li>
              </ul>
            </div>
            <div>
              <h4 class="font-medium text-neutral-900">Tips de uso</h4>
              <ul
                class="space-y-2 mt-3 pl-6 text-neutral-700 marker:text-neutral-400 list-disc"
              >
                <li>Retrolavado semanal o según presión del manómetro.</li>
                <li>No dejar el filtro cerrado al apagar.</li>
                <li>Elegir medios filtrantes de buena calidad.</li>
              </ul>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- CTA -->
    <ServiceCTA serviceTitle={service.title} wspHref={wspHref} />
  </article>
</Layout>
