---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";

import heroImage from "../assets/hero.webp";
import poolCleaning from "../assets/poolCleaning.webp";
import poolDrain from "../assets/poolDrain.webp";
import poolPainting from "../assets/poolPainting.webp";
import filterMaintenance from "../assets/filterMaintenance.webp";
import stainedTiles from "../assets/stainedTiles.webp";
import poolWallCrack from "../assets/poolWallCrack.webp";
import pablo from "../assets/Pablo_sinLogo.webp";
import whatsappIcon from "../assets/whatsapp.svg";  

// === SEO Vars (ajusta a producción) ===
const siteName = "Master Piscinas";
const canonicalUrl = "https://masterpiscinassj.com/"; // CAMBIAR al dominio final
const logoUrl = `${canonicalUrl}logo.png`;
const ogImage = `${canonicalUrl}og.webp`;
const title = "Master Piscinas | Limpieza, desagote, pintura y mantenimiento de piletas en San Juan";
const description =
  "Limpieza con ácido, desagote, pintura, cambio de piedras/multiválvula, pulido de placas y reparaciones en fibra. Atención personalizada en San Juan.";

const WSP = "5492644822296";
const mkWsp = (s: string) =>
  `https://wa.me/${WSP}?text=${encodeURIComponent(`Hola! Quiero info sobre: ${s}`)}`;

const services = [
  { title: "Limpieza con ácido", desc: "Restauración de superficies con incrustaciones, algas o manchas.", src: poolCleaning, alt: "Limpieza con ácido en pileta" },
  { title: "Desagote", desc: "Vaciado seguro y puesta a punto posterior.", src: poolDrain, alt: "Desagote y bombeo de pileta" },
  { title: "Pintura", desc: "Sellos, preparación y aplicación según tipo de pileta.", src: poolPainting, alt: "Pintura de pileta con rodillo" },
  { title: "Cambio de piedras / multiválvula", desc: "Reemplazo de medio filtrante y servicio sobre multiválvula.", src: filterMaintenance, alt: "Filtro de arena y multiválvula" },
  { title: "Pulido de placas", desc: "Recuperación de brillo en bordes y solárium.", src: stainedTiles, alt: "Pulido de placas y bordes de piscina" },
  { title: "Reparación en fibra / parches", desc: "Sellado de fisuras y parches localizados.", src: poolWallCrack, alt: "Reparación de piscina de fibra de vidrio" },
];

const faqs = [
  { q: "¿En qué zonas trabajan?", a: "San Juan y alrededores. Consultá por cobertura según tu barrio o departamento." },
  { q: "¿Cuánto tarda un servicio de limpieza con ácido?", a: "Entre 3 y 6 horas según tamaño, estado de la superficie y reposición de agua." },
  { q: "¿Qué pinturas utilizan?", a: "Pinturas específicas para piletas (clorado o base acuosa) según el material y estado." },
  { q: "¿Pueden coordinar todo por WhatsApp?", a: "Sí. Presupuesto, coordinación y reporte con fotos por WhatsApp." },
];
---

<Layout title={title} description={description} canonical={canonicalUrl}>
  {/* HEAD específico de la home */}
  <Fragment slot="head">
    <meta name="robots" content="index,follow,max-image-preview:large" />

    {/* Open Graph / Twitter */}
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:site_name" content={siteName} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="es_AR" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    {/* JSON-LD: LocalBusiness + FAQ + Breadcrumb */}
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": siteName,
      "image": ogImage,
      "url": canonicalUrl,
      "logo": logoUrl,
      "telephone": "+54 9 264 482 2296",
      "email": "masterpiscinas.sj@gmail.com",
      "areaServed": [{ "@type": "AdministrativeArea", "name": "San Juan, AR" }],
      "address": { "@type": "PostalAddress", "addressRegion": "San Juan", "addressCountry": "AR" },
      "sameAs": ["https://www.google.com/maps/search/?api=1&query=Master%20Piscinas%20San%20Juan"],
      "aggregateRating": { "@type": "AggregateRating", "ratingValue": "4.8", "reviewCount": "23" },
      "makesOffer": services.map(s => ({ "@type": "Offer", "itemOffered": { "@type": "Service", "name": s.title, "areaServed": "San Juan, AR" } }))
    })} />

    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": faqs.map(({q,a}) => ({ "@type": "Question", "name": q, "acceptedAnswer": { "@type": "Answer", "text": a } }))
    })} />

    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Inicio", "item": canonicalUrl },
        { "@type": "ListItem", "position": 2, "name": "Servicios", "item": `${canonicalUrl}#servicios` },
        { "@type": "ListItem", "position": 3, "name": "Contacto", "item": `${canonicalUrl}#contacto` }
      ]
    })} />
  </Fragment>

  <main class="flex flex-col gap-20 bg-slate-50 pb-24 text-slate-900">
    {/* HERO */}
  {/* HERO */}
<section class="relative overflow-hidden text-white">
  <div class="absolute inset-0">
    <Image
      src={heroImage}
      alt="Pileta limpia y lista para usar"
      class="brightness-75 w-full h-full object-cover"
      loading="eager"
      fetchpriority="high"
      width="1600"
      height="900"
    />
    <div class="absolute inset-0 bg-gradient-to-br from-sky-950/90 via-sky-900/85 to-sky-700/70"></div>
  </div>

  <div class="top-6 left-1/2 absolute flex items-center gap-3 -translate-x-1/2">
  <img
    src="/favicon.svg"
    alt="Logo Master Piscinas"
    class="drop-shadow-lg w-14 h-14 object-contain"
  />
  <span
    class="drop-shadow font-bold text-white text-2xl uppercase"
    style="font-family: 'Montserrat', sans-serif;"
  >
    Master Piscinas
  </span>
</div>


  <div class="relative flex md:flex-row flex-col md:justify-between md:items-end gap-10 mx-auto mt-6 px-6 py-24 md:py-36 max-w-6xl">
    <div class="space-y-6 max-w-2xl">
      <p class="font-semibold text-sky-200 text-sm uppercase tracking-[0.3em]">
        Mantenimiento integral de Piscinas
      </p>
      <h1 class="font-bold text-4xl md:text-5xl leading-tight">
        Limpieza, desagote, pintura y mantenimiento de piletas.
      </h1>
      <p class="text-sky-100 text-lg">
      Atención personalizada, presupuestos transparentes y coordinación eficiente.
      </p>
      <div class="flex sm:flex-row flex-col sm:items-center gap-4">
        <a
          href={mkWsp("Consulta general")}
          class="inline-flex justify-center items-center bg-white hover:bg-sky-100 shadow-lg shadow-sky-900/20 px-6 py-3 rounded-full font-semibold text-sky-900 text-sm transition hover:-translate-y-0.5"
          target="_blank" rel="noopener"
          aria-label="Hablar por WhatsApp"
        >
          Hablar por WhatsApp
        </a>
        <a
          href="mailto:masterpiscinas.sj@gmail.com"
          class="inline-flex justify-center items-center hover:bg-white/10 px-6 py-3 border border-white/40 rounded-full font-semibold text-white text-sm transition hover:-translate-y-0.5"
          aria-label="Enviar correo"
        >
          Enviar correo
        </a>
      </div>
    </div>

    
  </div>

    <div class="bottom-0 left-0 absolute w-full overflow-hidden leading-[0]" aria-hidden="true">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none" class="w-full h-24">
          <path fill="#f9fafb" fill-opacity="1"
            d="M0,128L48,112C96,96,192,64,288,85.3C384,107,480,181,576,224C672,267,768,277,864,261.3C960,245,1056,203,1152,181.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
          </path>
        </svg>
      </div>
</section>

    {/* SERVICIOS */}
    <section id="servicios" class="mx-auto px-6 max-w-6xl">
      <div class="flex flex-col gap-4 mb-12 md:text-left text-center">
        <span class="font-semibold text-sky-600 text-sm uppercase tracking-[0.3em]">Servicios</span>
        <h2 class="font-bold text-slate-900 text-3xl md:text-4xl">Servicios</h2>
      </div>

      <div class="gap-6 grid md:grid-cols-3">
        {services.map((s) => (
          <a
            href={mkWsp(s.title)}
            target="_blank" rel="noopener"
            class="group block bg-white shadow-lg shadow-slate-900/5 rounded-3xl focus:outline-none focus:ring-2 focus:ring-sky-500 overflow-hidden"
          >
            <article class="flex flex-col" aria-labelledby={s.title}>
              <div class="relative w-full aspect-square overflow-hidden">
                <Image
                  src={s.src}
                  alt={s.alt}
                  loading="lazy"
                  width="1200"
                  height="1200"
                  class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition duration-500"
                  sizes="(min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw"
                />
              </div>
              <div class="flex flex-col gap-2 p-8">
                <h3 class="font-semibold text-slate-900 text-lg">{s.title}</h3>
                <p class="text-slate-600 text-sm">{s.desc}</p>
              </div>
            </article>
          </a>
        ))}
      </div>
    </section>

    {/* ACERCA DE PABLO */}
    <section class="mx-auto px-6 max-w-6xl">
      <div class="flex md:flex-row flex-col md:items-stretch gap-8">
        <div class="flex flex-col md:flex-1 justify-center space-y-4 order-1">
          <span class="font-semibold text-sky-600 text-sm uppercase tracking-[0.3em]">Acerca de Pablo</span>
          <h2 class="font-bold text-slate-900 text-3xl md:text-4xl">Atención personalizada y trabajo a conciencia</h2>
          <p class="text-slate-600 text-base">
            Mi nombre es Pablo Martínez. Desde 2010 ofrecemos servicios profesionales de mantenimiento de piscinas en Buenos Aires y,
            desde 2013, también en la provincia de San Juan. La experiencia acumulada, junto con nuestra responsabilidad, puntualidad y prolijidad,
            garantizan tranquilidad y seguridad a cada cliente.
          </p>
          <ul class="pl-5 text-slate-700 text-sm list-disc">
            <li>Presupuestos claros y coordinación por WhatsApp.</li>
            <li>Visitas pactadas y seguimiento post-servicio.</li>
            <li>Consultá la cobertura según tu zona.</li>
          </ul>
        </div>

        <div class="relative order-2 w-full md:w-1/3 h-64 md:h-auto">
          <Image
            src={pablo}
            alt="Pablo Martínez, especialista en mantenimiento de piscinas"
            class="shadow-lg rounded-3xl ring-4 ring-white/70 object-cover aspect-square"
            style={{ objectPosition: "right bottom" }}
            loading="lazy"
            sizes="(min-width: 768px) 33vw, 100vw"
          />
        </div>
      </div>
    </section>

    {/* PROCESO */}
    <section class="bg-slate-900 py-16 text-slate-100">
      <div class="mx-auto px-6 max-w-6xl">
        <div class="flex flex-col gap-4 mb-12 md:text-left text-center">
          <span class="font-semibold text-sky-300 text-sm uppercase tracking-[0.3em]">Proceso</span>
          <h2 class="font-bold text-white text-3xl md:text-4xl">Así trabajamos</h2>
          <p class="md:max-w-3xl text-slate-300 text-base">Método claro para mantener tu pileta en condiciones seguras y atractivas.</p>
        </div>
        <div class="gap-8 grid md:grid-cols-4">
          <article class="bg-white/5 p-6 border border-white/10 rounded-3xl">
            <span class="font-semibold text-sky-300 text-sm">Paso 1</span>
            <h3 class="mt-2 font-semibold text-white text-lg">Consulta y visita</h3>
            <p class="mt-3 text-slate-300 text-sm">Relevamiento del estado del agua y equipos.</p>
          </article>
          <article class="bg-white/5 p-6 border border-white/10 rounded-3xl">
            <span class="font-semibold text-sky-300 text-sm">Paso 2</span>
            <h3 class="mt-2 font-semibold text-white text-lg">Presupuesto</h3>
            <p class="mt-3 text-slate-300 text-sm">Propuesta clara con tareas y materiales.</p>
          </article>
          <article class="bg-white/5 p-6 border border-white/10 rounded-3xl">
            <span class="font-semibold text-sky-300 text-sm">Paso 3</span>
            <h3 class="mt-2 font-semibold text-white text-lg">Trabajo en la pileta</h3>
            <p class="mt-3 text-slate-300 text-sm">Limpieza, balance, pintura o reparación según caso.</p>
          </article>
          <article class="bg-white/5 p-6 border border-white/10 rounded-3xl">
            <span class="font-semibold text-sky-300 text-sm">Paso 4</span>
            <h3 class="mt-2 font-semibold text-white text-lg">Seguimiento</h3>
            <p class="mt-3 text-slate-300 text-sm">Reporte con fotos y recomendaciones por WhatsApp.</p>
          </article>
        </div>
      </div>
    </section>

    {/* OPINIONES */}
    <section class="mx-auto px-6 max-w-6xl">
      <div class="flex flex-col gap-3 mb-8 md:text-left text-center">
        <span class="font-semibold text-sky-600 text-sm uppercase tracking-[0.3em]">Opiniones</span>
        <h2 class="font-bold text-slate-900 text-3xl md:text-4xl">Lo que dicen nuestros clientes</h2>
        <p class="md:max-w-3xl text-slate-600 text-base">
          Reseñas verificadas en Google. <a href="https://www.google.com/maps/search/?api=1&query=Master%20Piscinas%20San%20Juan" class="underline" target="_blank" rel="noopener">Ver en Google Maps</a>
        </p>
      </div>
      <div class="gap-6 grid md:grid-cols-3">
        <blockquote class="bg-white shadow-lg shadow-slate-900/5 p-6 rounded-3xl">
          <div class="flex items-center gap-2 text-amber-500" aria-label="5 estrellas">★★★★★</div>
          <p class="mt-3 text-slate-700 text-sm">“Excelente trabajo. Dejaron la pileta impecable y cumplieron con la fecha.”</p>
          <footer class="mt-4 text-slate-500 text-xs">Lucía R. · Rivadavia</footer>
        </blockquote>
        <blockquote class="bg-white shadow-lg shadow-slate-900/5 p-6 rounded-3xl">
          <div class="flex items-center gap-2 text-amber-500" aria-label="5 estrellas">★★★★★</div>
          <p class="mt-3 text-slate-700 text-sm">“Muy buena comunicación por WhatsApp y precios claros. Recomendados.”</p>
          <footer class="mt-4 text-slate-500 text-xs">Gabriel M. · Rawson</footer>
        </blockquote>
        <blockquote class="bg-white shadow-lg shadow-slate-900/5 p-6 rounded-3xl">
          <div class="flex items-center gap-2 text-amber-500" aria-label="4 estrellas">★★★★☆</div>
          <p class="mt-3 text-slate-700 text-sm">“Hicieron limpieza con ácido y pintura, quedó como nueva.”</p>
          <footer class="mt-4 text-slate-500 text-xs">Mariana P. · Capital</footer>
        </blockquote>

        {/* AggregateRating adicional inline */}
        <script type="application/ld+json">
          {JSON.stringify({
            "@context": "https://schema.org",
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "23",
            "itemReviewed": { "@type": "LocalBusiness", "name": siteName }
          })}
        </script>
      </div>
    </section>

    {/* CTA / CONTACTO */}
    <section id="contacto" class="mx-auto px-6 max-w-6xl">
      <div class="bg-gradient-to-r from-sky-700 to-sky-500 p-10 md:p-14 rounded-3xl text-white">
        <div class="flex md:flex-row flex-col md:justify-between md:items-center gap-8">
          <div class="space-y-3 max-w-2xl">
            <h2 class="font-bold text-3xl md:text-4xl">Coordiná tu visita</h2>
            <p class="text-sky-100 text-base">Escribinos por WhatsApp y te respondemos a la brevedad.</p>
          </div>
          <div class="flex sm:flex-row flex-col gap-4">
            <a
              href={mkWsp("Coordinación de visita")}
              class="inline-flex justify-center items-center bg-white hover:bg-sky-100 shadow-lg shadow-slate-900/10 px-6 py-3 rounded-full font-semibold text-sky-700 text-sm transition hover:-translate-y-0.5"
              target="_blank" rel="noopener" aria-label="WhatsApp Master Piscinas"
            >WhatsApp</a>
            <a
              href="mailto:masterpiscinas.sj@gmail.com"
              class="inline-flex justify-center items-center hover:bg-white/10 px-6 py-3 border border-white/60 rounded-full font-semibold text-white text-sm transition hover:-translate-y-0.5"
              aria-label="Enviar correo"
            >Enviar correo</a>
          </div>
        </div>
        <dl class="gap-4 grid sm:grid-cols-3 mt-8 text-sky-100 text-sm">
          <div><dt class="font-semibold text-white">Cobertura</dt><dd>Consultá por el radio de cobertura de tu zona</dd></div>
          <div><dt class="font-semibold text-white">Contacto</dt><dd>masterpiscinas.sj@gmail.com · +54 9 264 482 2296</dd></div>
          <div><dt class="font-semibold text-white">Horario</dt><dd>Lun a sáb · 9 a 19 h</dd></div>
        </dl>
      </div>
    </section>
  </main>
  <a
      href="https://wa.me/5492644822296?text=Hola! Quiero más información"
      class="right-6 bottom-6 fixed flex justify-center items-center bg-green-500 hover:bg-green-600 shadow-green-700/30 shadow-lg rounded-full w-14 h-14 text-white transition"
      target="_blank"
      rel="noopener"
      aria-label="WhatsApp Master Piscinas"
    >
      <!-- Icono de WhatsApp (SVG inline para no depender de librerías) -->
      <Image
        src={whatsappIcon}
        alt="WhatsApp"
        class="w-8 h-8"
        width="32"
        height="32"
        loading="eager"
        fetchpriority="high"    
      />
    </a>
</Layout>
